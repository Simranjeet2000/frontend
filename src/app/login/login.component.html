<div class="signup-form">
  <h2>Login</h2>
  <form [formGroup]="myLoginForm" (ngSubmit)="login()">
    <div class="form-group">
      <label for="email"
        >Email
        <span
          style="color: red"
          *ngIf="
            isFieldInvalid('email') &&
            !myLoginForm.controls['email'].errors?.hasOwnProperty('email')
          "
        >
          *</span
        ></label
      >
      <input
        type="email"
        id="email"
        name="email"
        formControlName="email"
        required
      />
      <div *ngIf="isFieldInvalid('email')">
        <i
          style="color: red"
          *ngIf="myLoginForm.controls['email'].hasError('required')"
        >
          Email is required
        </i>
        <i
          style="color: red"
          *ngIf="myLoginForm.controls['email'].hasError('pattern')"
        >
          Email must not start with a number or special character
        </i>
      </div>
    </div>
    <div class="form-group">
      <label for="password"
        >Password
        <span
          style="color: red"
          *ngIf="
            isFieldInvalid('password') &&
            myLoginForm.controls['password'].touched
          "
        >
          *</span
        ></label
      >
      <input
        type="password"
        id="password"
        name="password"
        formControlName="password"
        required
      />
      <div
        *ngIf="
          isFieldInvalid('password') && myLoginForm.controls['password'].touched
        "
      >
        <i
          style="color: red"
          *ngIf="myLoginForm.controls['password'].hasError('required')"
        >
          Password is required
        </i>
        <i
          style="color: red"
          *ngIf="
            myLoginForm.controls['password'].hasError('minlength') &&
            myLoginForm.controls['password'].dirty
          "
        >
          Password must be 8 characters long
        </i>
        <i
          style="color: red"
          *ngIf="
            myLoginForm.controls['password'].hasError('pattern') &&
            myLoginForm.controls['password'].dirty
          "
        >
          Password must contain at least 1 special character, 1 number, and 1
          uppercase letter
        </i>
      </div>
    </div>
    <button
      type="submit"
      [style.opacity]="myLoginForm.invalid ? '0.5' : '1'"
      [disabled]="myLoginForm.invalid"
    >
      Login
    </button>
  </form>
  <h5 class="container mt-3">Don't have an account?</h5>
  <button class="mt-2" routerLink="/sign-up">SignUp</button>
</div>

<!-- modal -->
<div *ngIf="showModal" class="modal">
  <div class="modal-content">
    <h2>{{ modalTitle }}</h2>
    <p>{{ modalMessage }}</p>
    <button (click)="closeModal()">Close</button>
  </div>
</div>
